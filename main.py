{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "baaeca76",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Collecting uvicorn\n",
      "  Obtaining dependency information for uvicorn from https://files.pythonhosted.org/packages/63/84/2a26b4eac1cf0c6b5b176dd4346cc4912af5e1b0efc150b865e28636ac34/uvicorn-0.30.3-py3-none-any.whl.metadata\n",
      "  Downloading uvicorn-0.30.3-py3-none-any.whl.metadata (6.5 kB)\n",
      "Requirement already satisfied: click>=7.0 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from uvicorn) (8.0.4)\n",
      "Requirement already satisfied: h11>=0.8 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from uvicorn) (0.14.0)\n",
      "Requirement already satisfied: colorama in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from click>=7.0->uvicorn) (0.4.6)\n",
      "Downloading uvicorn-0.30.3-py3-none-any.whl (62 kB)\n",
      "   ---------------------------------------- 0.0/62.8 kB ? eta -:--:--\n",
      "   ---------------------------------------- 0.0/62.8 kB ? eta -:--:--\n",
      "   ------ --------------------------------- 10.2/62.8 kB ? eta -:--:--\n",
      "   ------------------- -------------------- 30.7/62.8 kB 330.3 kB/s eta 0:00:01\n",
      "   ---------------------------------------- 62.8/62.8 kB 558.7 kB/s eta 0:00:00\n",
      "Installing collected packages: uvicorn\n",
      "Successfully installed uvicorn-0.30.3\n",
      "Note: you may need to restart the kernel to use updated packages.\n"
     ]
    }
   ],
   "source": [
    "pip install uvicorn\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "afaebdb4",
   "metadata": {},
   "outputs": [
    {
     "ename": "SyntaxError",
     "evalue": "invalid syntax (3777925087.py, line 1)",
     "output_type": "error",
     "traceback": [
      "\u001b[1;36m  Cell \u001b[1;32mIn[2], line 1\u001b[1;36m\u001b[0m\n\u001b[1;33m    uvicorn your_script_name:app --reload\u001b[0m\n\u001b[1;37m            ^\u001b[0m\n\u001b[1;31mSyntaxError\u001b[0m\u001b[1;31m:\u001b[0m invalid syntax\n"
     ]
    }
   ],
   "source": [
    "uvicorn your_script_name:app --reload\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "b75114ef",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Collecting fastapi\n",
      "  Obtaining dependency information for fastapi from https://files.pythonhosted.org/packages/a4/d4/eb78f7c2648a3585095623f207d7e4b85a1be30347e01e0fdcd1d7d167a9/fastapi-0.111.1-py3-none-any.whl.metadata\n",
      "  Downloading fastapi-0.111.1-py3-none-any.whl.metadata (26 kB)\n",
      "Collecting starlette<0.38.0,>=0.37.2 (from fastapi)\n",
      "  Obtaining dependency information for starlette<0.38.0,>=0.37.2 from https://files.pythonhosted.org/packages/fd/18/31fa32ed6c68ba66220204ef0be798c349d0a20c1901f9d4a794e08c76d8/starlette-0.37.2-py3-none-any.whl.metadata\n",
      "  Downloading starlette-0.37.2-py3-none-any.whl.metadata (5.9 kB)\n",
      "Requirement already satisfied: pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from fastapi) (1.10.8)\n",
      "Collecting typing-extensions>=4.8.0 (from fastapi)\n",
      "  Obtaining dependency information for typing-extensions>=4.8.0 from https://files.pythonhosted.org/packages/26/9f/ad63fc0248c5379346306f8668cda6e2e2e9c95e01216d2b8ffd9ff037d0/typing_extensions-4.12.2-py3-none-any.whl.metadata\n",
      "  Downloading typing_extensions-4.12.2-py3-none-any.whl.metadata (3.0 kB)\n",
      "Collecting fastapi-cli>=0.0.2 (from fastapi)\n",
      "  Obtaining dependency information for fastapi-cli>=0.0.2 from https://files.pythonhosted.org/packages/a1/03/89bf615052aa5453c04d952225ded0b88aab6487b9c5f0c268939d13b860/fastapi_cli-0.0.4-py3-none-any.whl.metadata\n",
      "  Downloading fastapi_cli-0.0.4-py3-none-any.whl.metadata (7.0 kB)\n",
      "Collecting httpx>=0.23.0 (from fastapi)\n",
      "  Obtaining dependency information for httpx>=0.23.0 from https://files.pythonhosted.org/packages/41/7b/ddacf6dcebb42466abd03f368782142baa82e08fc0c1f8eaa05b4bae87d5/httpx-0.27.0-py3-none-any.whl.metadata\n",
      "  Downloading httpx-0.27.0-py3-none-any.whl.metadata (7.2 kB)\n",
      "Requirement already satisfied: jinja2>=2.11.2 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from fastapi) (3.1.2)\n",
      "Collecting python-multipart>=0.0.7 (from fastapi)\n",
      "  Obtaining dependency information for python-multipart>=0.0.7 from https://files.pythonhosted.org/packages/3d/47/444768600d9e0ebc82f8e347775d24aef8f6348cf00e9fa0e81910814e6d/python_multipart-0.0.9-py3-none-any.whl.metadata\n",
      "  Downloading python_multipart-0.0.9-py3-none-any.whl.metadata (2.5 kB)\n",
      "Collecting email_validator>=2.0.0 (from fastapi)\n",
      "  Obtaining dependency information for email_validator>=2.0.0 from https://files.pythonhosted.org/packages/d7/ee/bf0adb559ad3c786f12bcbc9296b3f5675f529199bef03e2df281fa1fadb/email_validator-2.2.0-py3-none-any.whl.metadata\n",
      "  Downloading email_validator-2.2.0-py3-none-any.whl.metadata (25 kB)\n",
      "Requirement already satisfied: uvicorn[standard]>=0.12.0 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from fastapi) (0.30.3)\n",
      "Collecting dnspython>=2.0.0 (from email_validator>=2.0.0->fastapi)\n",
      "  Obtaining dependency information for dnspython>=2.0.0 from https://files.pythonhosted.org/packages/87/a1/8c5287991ddb8d3e4662f71356d9656d91ab3a36618c3dd11b280df0d255/dnspython-2.6.1-py3-none-any.whl.metadata\n",
      "  Downloading dnspython-2.6.1-py3-none-any.whl.metadata (5.8 kB)\n",
      "Requirement already satisfied: idna>=2.0.0 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from email_validator>=2.0.0->fastapi) (3.4)\n",
      "Collecting typer>=0.12.3 (from fastapi-cli>=0.0.2->fastapi)\n",
      "  Obtaining dependency information for typer>=0.12.3 from https://files.pythonhosted.org/packages/20/b5/11cf2e34fbb11b937e006286ab5b8cfd334fde1c8fa4dd7f491226931180/typer-0.12.3-py3-none-any.whl.metadata\n",
      "  Downloading typer-0.12.3-py3-none-any.whl.metadata (15 kB)\n",
      "Requirement already satisfied: anyio in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from httpx>=0.23.0->fastapi) (3.5.0)\n",
      "Requirement already satisfied: certifi in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from httpx>=0.23.0->fastapi) (2023.7.22)\n",
      "Collecting httpcore==1.* (from httpx>=0.23.0->fastapi)\n",
      "  Obtaining dependency information for httpcore==1.* from https://files.pythonhosted.org/packages/78/d4/e5d7e4f2174f8a4d63c8897d79eb8fe2503f7ecc03282fee1fa2719c2704/httpcore-1.0.5-py3-none-any.whl.metadata\n",
      "  Downloading httpcore-1.0.5-py3-none-any.whl.metadata (20 kB)\n",
      "Requirement already satisfied: sniffio in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from httpx>=0.23.0->fastapi) (1.3.0)\n",
      "Requirement already satisfied: h11<0.15,>=0.13 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from httpcore==1.*->httpx>=0.23.0->fastapi) (0.14.0)\n",
      "Requirement already satisfied: MarkupSafe>=2.0 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from jinja2>=2.11.2->fastapi) (2.1.1)\n",
      "Requirement already satisfied: click>=7.0 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from uvicorn[standard]>=0.12.0->fastapi) (8.0.4)\n",
      "Requirement already satisfied: colorama>=0.4 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from uvicorn[standard]>=0.12.0->fastapi) (0.4.6)\n",
      "Collecting httptools>=0.5.0 (from uvicorn[standard]>=0.12.0->fastapi)\n",
      "  Obtaining dependency information for httptools>=0.5.0 from https://files.pythonhosted.org/packages/14/e4/20d28dfe7f5b5603b6b04c33bb88662ad749de51f0c539a561f235f42666/httptools-0.6.1-cp311-cp311-win_amd64.whl.metadata\n",
      "  Downloading httptools-0.6.1-cp311-cp311-win_amd64.whl.metadata (3.7 kB)\n",
      "Requirement already satisfied: python-dotenv>=0.13 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from uvicorn[standard]>=0.12.0->fastapi) (0.21.0)\n",
      "Requirement already satisfied: pyyaml>=5.1 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from uvicorn[standard]>=0.12.0->fastapi) (6.0)\n",
      "Collecting watchfiles>=0.13 (from uvicorn[standard]>=0.12.0->fastapi)\n",
      "  Obtaining dependency information for watchfiles>=0.13 from https://files.pythonhosted.org/packages/2b/8b/93f4e3ed0d578676b3c2e9d4ebf0b51237f4a96bbe3830b146662cb249da/watchfiles-0.22.0-cp311-none-win_amd64.whl.metadata\n",
      "  Downloading watchfiles-0.22.0-cp311-none-win_amd64.whl.metadata (5.0 kB)\n",
      "Collecting websockets>=10.4 (from uvicorn[standard]>=0.12.0->fastapi)\n",
      "  Obtaining dependency information for websockets>=10.4 from https://files.pythonhosted.org/packages/d1/40/6b169cd1957476374f51f4486a3e85003149e62a14e6b78a958c2222337a/websockets-12.0-cp311-cp311-win_amd64.whl.metadata\n",
      "  Downloading websockets-12.0-cp311-cp311-win_amd64.whl.metadata (6.8 kB)\n",
      "Collecting shellingham>=1.3.0 (from typer>=0.12.3->fastapi-cli>=0.0.2->fastapi)\n",
      "  Obtaining dependency information for shellingham>=1.3.0 from https://files.pythonhosted.org/packages/e0/f9/0595336914c5619e5f28a1fb793285925a8cd4b432c9da0a987836c7f822/shellingham-1.5.4-py2.py3-none-any.whl.metadata\n",
      "  Downloading shellingham-1.5.4-py2.py3-none-any.whl.metadata (3.5 kB)\n",
      "Collecting rich>=10.11.0 (from typer>=0.12.3->fastapi-cli>=0.0.2->fastapi)\n",
      "  Obtaining dependency information for rich>=10.11.0 from https://files.pythonhosted.org/packages/87/67/a37f6214d0e9fe57f6ae54b2956d550ca8365857f42a1ce0392bb21d9410/rich-13.7.1-py3-none-any.whl.metadata\n",
      "  Downloading rich-13.7.1-py3-none-any.whl.metadata (18 kB)\n",
      "Requirement already satisfied: markdown-it-py>=2.2.0 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from rich>=10.11.0->typer>=0.12.3->fastapi-cli>=0.0.2->fastapi) (2.2.0)\n",
      "Requirement already satisfied: pygments<3.0.0,>=2.13.0 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from rich>=10.11.0->typer>=0.12.3->fastapi-cli>=0.0.2->fastapi) (2.15.1)\n",
      "Requirement already satisfied: mdurl~=0.1 in c:\\users\\imdri\\anaconda3\\lib\\site-packages (from markdown-it-py>=2.2.0->rich>=10.11.0->typer>=0.12.3->fastapi-cli>=0.0.2->fastapi) (0.1.0)\n",
      "Downloading fastapi-0.111.1-py3-none-any.whl (92 kB)\n",
      "   ---------------------------------------- 0.0/92.2 kB ? eta -:--:--\n",
      "   ----------------- ---------------------- 41.0/92.2 kB 1.9 MB/s eta 0:00:01\n",
      "   ---------------------------------------- 92.2/92.2 kB 1.3 MB/s eta 0:00:00\n",
      "Downloading email_validator-2.2.0-py3-none-any.whl (33 kB)\n",
      "Downloading fastapi_cli-0.0.4-py3-none-any.whl (9.5 kB)\n",
      "Downloading httpx-0.27.0-py3-none-any.whl (75 kB)\n",
      "   ---------------------------------------- 0.0/75.6 kB ? eta -:--:--\n",
      "   ---------------------------------------- 75.6/75.6 kB 2.1 MB/s eta 0:00:00\n",
      "Downloading httpcore-1.0.5-py3-none-any.whl (77 kB)\n",
      "   ---------------------------------------- 0.0/77.9 kB ? eta -:--:--\n",
      "   ---------------------------------------- 77.9/77.9 kB 4.2 MB/s eta 0:00:00\n",
      "Downloading python_multipart-0.0.9-py3-none-any.whl (22 kB)\n",
      "Downloading starlette-0.37.2-py3-none-any.whl (71 kB)\n",
      "   ---------------------------------------- 0.0/71.9 kB ? eta -:--:--\n",
      "   ---------------------- ----------------- 41.0/71.9 kB ? eta -:--:--\n",
      "   ---------------------------------------- 71.9/71.9 kB 994.6 kB/s eta 0:00:00\n",
      "Downloading typing_extensions-4.12.2-py3-none-any.whl (37 kB)\n",
      "Downloading dnspython-2.6.1-py3-none-any.whl (307 kB)\n",
      "   ---------------------------------------- 0.0/307.7 kB ? eta -:--:--\n",
      "   --- ------------------------------------ 30.7/307.7 kB ? eta -:--:--\n",
      "   --- ------------------------------------ 30.7/307.7 kB ? eta -:--:--\n",
      "   --- ------------------------------------ 30.7/307.7 kB ? eta -:--:--\n",
      "   ----------------- -------------------- 143.4/307.7 kB 950.9 kB/s eta 0:00:01\n",
      "   --------------------- ---------------- 174.1/307.7 kB 807.1 kB/s eta 0:00:01\n",
      "   --------------------- ---------------- 174.1/307.7 kB 807.1 kB/s eta 0:00:01\n",
      "   ------------------------------ ------- 245.8/307.7 kB 888.8 kB/s eta 0:00:01\n",
      "   ------------------------------ ------- 245.8/307.7 kB 888.8 kB/s eta 0:00:01\n",
      "   ----------------------------------- -- 286.7/307.7 kB 737.3 kB/s eta 0:00:01\n",
      "   -------------------------------------- 307.7/307.7 kB 732.6 kB/s eta 0:00:00\n",
      "Downloading httptools-0.6.1-cp311-cp311-win_amd64.whl (55 kB)\n",
      "   ---------------------------------------- 0.0/55.4 kB ? eta -:--:--\n",
      "   ---------------------- ----------------- 30.7/55.4 kB 640.0 kB/s eta 0:00:01\n",
      "   ---------------------------------------- 55.4/55.4 kB 961.6 kB/s eta 0:00:00\n",
      "Downloading typer-0.12.3-py3-none-any.whl (47 kB)\n",
      "   ---------------------------------------- 0.0/47.2 kB ? eta -:--:--\n",
      "   -------------------------- ------------- 30.7/47.2 kB 1.3 MB/s eta 0:00:01\n",
      "   ---------------------------------------- 47.2/47.2 kB 786.6 kB/s eta 0:00:00\n",
      "Downloading watchfiles-0.22.0-cp311-none-win_amd64.whl (281 kB)\n",
      "   ---------------------------------------- 0.0/282.0 kB ? eta -:--:--\n",
      "   ---------------------------------------- 0.0/282.0 kB ? eta -:--:--\n",
      "   ----- ---------------------------------- 41.0/282.0 kB ? eta -:--:--\n",
      "   ----- ---------------------------------- 41.0/282.0 kB ? eta -:--:--\n",
      "   --------------- ------------------------ 112.6/282.0 kB 1.1 MB/s eta 0:00:01\n",
      "   ----------------- -------------------- 133.1/282.0 kB 983.0 kB/s eta 0:00:01\n",
      "   ------------------- ------------------ 143.4/282.0 kB 774.0 kB/s eta 0:00:01\n",
      "   ---------------------- --------------- 163.8/282.0 kB 701.4 kB/s eta 0:00:01\n",
      "   ----------------------- -------------- 174.1/282.0 kB 655.4 kB/s eta 0:00:01\n",
      "   ----------------------- -------------- 174.1/282.0 kB 655.4 kB/s eta 0:00:01\n",
      "   ---------------------------- --------- 215.0/282.0 kB 568.9 kB/s eta 0:00:01\n",
      "   ------------------------------ ------- 225.3/282.0 kB 550.0 kB/s eta 0:00:01\n",
      "   ---------------------------------- --- 256.0/282.0 kB 561.1 kB/s eta 0:00:01\n",
      "   -------------------------------------- 282.0/282.0 kB 543.5 kB/s eta 0:00:00\n",
      "Downloading websockets-12.0-cp311-cp311-win_amd64.whl (124 kB)\n",
      "   ---------------------------------------- 0.0/125.0 kB ? eta -:--:--\n",
      "   ---------------------------------------- 0.0/125.0 kB ? eta -:--:--\n",
      "   ---------------------------------------- 0.0/125.0 kB ? eta -:--:--\n",
      "   ------------- -------------------------- 41.0/125.0 kB ? eta -:--:--\n",
      "   ------------- -------------------------- 41.0/125.0 kB ? eta -:--:--\n",
      "   ------------------- ------------------- 61.4/125.0 kB 550.5 kB/s eta 0:00:01\n",
      "   ---------------------- ---------------- 71.7/125.0 kB 393.8 kB/s eta 0:00:01\n",
      "   ---------------------- ---------------- 71.7/125.0 kB 393.8 kB/s eta 0:00:01\n",
      "   ---------------------------- ---------- 92.2/125.0 kB 403.5 kB/s eta 0:00:01\n",
      "   ---------------------------------- --- 112.6/125.0 kB 386.4 kB/s eta 0:00:01\n",
      "   -------------------------------------- 125.0/125.0 kB 349.8 kB/s eta 0:00:00\n",
      "Downloading rich-13.7.1-py3-none-any.whl (240 kB)\n",
      "   ---------------------------------------- 0.0/240.7 kB ? eta -:--:--\n",
      "   ---------------------------------------- 0.0/240.7 kB ? eta -:--:--\n",
      "   - -------------------------------------- 10.2/240.7 kB ? eta -:--:--\n",
      "   ---- ---------------------------------- 30.7/240.7 kB 435.7 kB/s eta 0:00:01\n",
      "   ------ -------------------------------- 41.0/240.7 kB 326.8 kB/s eta 0:00:01\n",
      "   ------ -------------------------------- 41.0/240.7 kB 326.8 kB/s eta 0:00:01\n",
      "   --------- ----------------------------- 61.4/240.7 kB 326.1 kB/s eta 0:00:01\n",
      "   ------------- ------------------------- 81.9/240.7 kB 351.4 kB/s eta 0:00:01\n",
      "   -------------- ------------------------ 92.2/240.7 kB 308.0 kB/s eta 0:00:01\n",
      "   -------------- ------------------------ 92.2/240.7 kB 308.0 kB/s eta 0:00:01\n",
      "   -------------- ------------------------ 92.2/240.7 kB 308.0 kB/s eta 0:00:01\n",
      "   ------------------- ------------------ 122.9/240.7 kB 257.2 kB/s eta 0:00:01\n",
      "   ---------------------- --------------- 143.4/240.7 kB 283.8 kB/s eta 0:00:01\n",
      "   ------------------------- ------------ 163.8/240.7 kB 297.7 kB/s eta 0:00:01\n",
      "   --------------------------- ---------- 174.1/240.7 kB 283.0 kB/s eta 0:00:01\n",
      "   ------------------------------ ------- 194.6/240.7 kB 310.3 kB/s eta 0:00:01\n",
      "   -------------------------------- ----- 204.8/240.7 kB 303.5 kB/s eta 0:00:01\n",
      "   ----------------------------------- -- 225.3/240.7 kB 320.0 kB/s eta 0:00:01\n",
      "   -------------------------------------- 240.7/240.7 kB 307.3 kB/s eta 0:00:00\n",
      "Downloading shellingham-1.5.4-py2.py3-none-any.whl (9.8 kB)\n",
      "Installing collected packages: websockets, typing-extensions, shellingham, python-multipart, httptools, httpcore, dnspython, watchfiles, starlette, rich, httpx, email_validator, typer, fastapi-cli, fastapi\n",
      "  Attempting uninstall: typing-extensions\n",
      "    Found existing installation: typing_extensions 4.7.1\n",
      "    Uninstalling typing_extensions-4.7.1:\n",
      "      Successfully uninstalled typing_extensions-4.7.1\n",
      "Successfully installed dnspython-2.6.1 email_validator-2.2.0 fastapi-0.111.1 fastapi-cli-0.0.4 httpcore-1.0.5 httptools-0.6.1 httpx-0.27.0 python-multipart-0.0.9 rich-13.7.1 shellingham-1.5.4 starlette-0.37.2 typer-0.12.3 typing-extensions-4.12.2 watchfiles-0.22.0 websockets-12.0\n",
      "Note: you may need to restart the kernel to use updated packages.\n"
     ]
    }
   ],
   "source": [
    "pip install fastapi\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "34e930b6",
   "metadata": {},
   "outputs": [],
   "source": [
    "import uvicorn\n",
    "from fastapi import FastAPI, Request, Form\n",
    "import joblib\n",
    "from fastapi.responses import HTMLResponse\n",
    "from fastapi.staticfiles import StaticFiles\n",
    "from fastapi.templating import Jinja2Templates\n",
    "from pydantic import BaseModel\n",
    "\n",
    "app = FastAPI()\n",
    "\n",
    "app.mount(\"/static\", StaticFiles(directory=\"static\"), name=\"static\")\n",
    "templates = Jinja2Templates(directory=\"template\")\n",
    "\n",
    "# Load the model\n",
    "phish_model = open('phishing.pkl', 'rb')\n",
    "phish_model_ls = joblib.load(phish_model)\n",
    "\n",
    "@app.get('/')\n",
    "async def index(request: Request):\n",
    "    return templates.TemplateResponsimport uvicorn\n",
    "from fastapi import FastAPI, Request, Form\n",
    "import joblib\n",
    "from fastapi.responses import HTMLResponse\n",
    "from fastapi.staticfiles import StaticFiles\n",
    "from fastapi.templating import Jinja2Templates\n",
    "from pydantic import BaseModel\n",
    "\n",
    "app = FastAPI()\n",
    "\n",
    "app.mount(\"/static\", StaticFiles(directory=\"static\"), name=\"static\")\n",
    "templates = Jinja2Templates(directory=\"template\")\n",
    "\n",
    "# Load the model\n",
    "phish_model = open('phishing.pkl', 'rb')\n",
    "phish_model_ls = joblib.load(phish_model)\n",
    "\n",
    "@app.get('/')\n",
    "async def index(request: Request):\n",
    "    return templates.TemplateResponse(\"index.html\", context={'request': request})\n",
    "\n",
    "# ML Aspect\n",
    "class URL(BaseModel):\n",
    "    website: str\n",
    "\n",
    "@app.post('/predict')\n",
    "async def predict(request: Request, url: str = Form(...)):\n",
    "    features = url\n",
    "\n",
    "    # request_data=requests.get(\"http://\"+url+'/')\n",
    "    # if request_data.status_code >= 400:\n",
    "    #     result = \"Invalid URL\"\n",
    "    #     return templates.TemplateResponse(\"index.html\", context={'request': request, 'result': result, 'url': url})\n",
    "\n",
    "    X_predict = [str(features)]\n",
    "    y_Predict = phish_model_ls.predict(X_predict)\n",
    "\n",
    "    if y_Predict == 'bad':\n",
    "        result = \"This is a Phishing Site\"\n",
    "    else:\n",
    "        result = \"This is not a Phishing Site\"\n",
    "\n",
    "    return templates.TemplateResponse(\"index.html\", context={'request': request, 'result': result, 'url': url})\n",
    "\n",
    "if __name__ == '__main__':\n",
    "    uvicorn.run(app, host=\"127.0.0.1\", port=8000, reload=True)\n",
    "e(\"index.html\", context={'request': request})\n",
    "\n",
    "# ML Aspect\n",
    "class URL(BaseModel):\n",
    "    website: str\n",
    "\n",
    "@app.post('/predict')\n",
    "async def predict(request: Request, url: str = Form(...)):\n",
    "    features = url\n",
    "\n",
    "    # request_data=requests.get(\"http://\"+url+'/')\n",
    "    # if request_data.status_code >= 400:\n",
    "    #     result = \"Invalid URL\"\n",
    "    #     return templates.TemplateResponse(\"index.html\", context={'request': request, 'result': result, 'url': url})\n",
    "\n",
    "    X_predict = [str(features)]\n",
    "    y_Predict = phish_model_ls.predict(X_predict)\n",
    "\n",
    "    if y_Predict == 'bad':\n",
    "        result = \"This is a Phishing Site\"\n",
    "    else:\n",
    "        result = \"This is not a Phishing Site\"\n",
    "\n",
    "    return templates.TemplateResponse(\"index.html\", context={'request': request, 'result': result, 'url': url})\n",
    "\n",
    "if __name__ == '__main__':\n",
    "    uvicorn.run(app, host=\"127.0.0.1\", port=8000, reload=True)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "68d8e5a0",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.11.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
